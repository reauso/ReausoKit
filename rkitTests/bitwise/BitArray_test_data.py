import itertools

from rkit.bitwise.BitArray import ByteChunkSize


class ArrayToBitStringTestData:
    def __init__(self):
        self._data = None
        """
        List of dicts with:
        
        - id: int
        - array: list[int]
        - string: str
        - string_spaced: str
        - intervals: {(int, int): str (expected with spaces), ...}
        - reversed_intervals: [(int, int), ...]
        - chunk_size: ByteChunkSize
        """

        self.__define_data()

    def __define_data(self):
        self._data = [
            {
                'id':
                    0,
                'array':
                    [0x01, 0x10, 0x00, 0xDA, 0x4F, 0xFF, 0x00, 0x45],
                'string':
                    '0000000100010000000000001101101001001111111111110000000001000101',
                'string_spaced':
                    '00000001 00010000 00000000 11011010 01001111 11111111 00000000 01000101',
                'intervals':
                    {
                        (0, 0):
                            '',
                        (1, 62):
                            '0000001 00010000 00000000 11011010 01001111 11111111 00000000 010001',
                        (1, None):
                            '0000001 00010000 00000000 11011010 01001111 11111111 00000000 01000101',
                        (None, 16):
                            '00000001 00010000',
                        (24, 43):
                            '11011010 01001111 111',
                        (13, 54):
                            '000 00000000 11011010 01001111 11111111 000000',
                        (-43, -34):
                            '000 110110',
                        (-64, -1):
                            '00000001 00010000 00000000 11011010 01001111 11111111 00000000 0100010',
                        (0, 63):
                            '00000001 00010000 00000000 11011010 01001111 11111111 00000000 0100010'
                    },
                'reversed_intervals':
                    [(20, 10), (63, 12), (34, -40), (-20, 20), (-13, -44), (54, 12), (-18, -19), (2, 1)],
                'chunk_size':
                    ByteChunkSize.BIT8,
            },
            {
                'id':
                    1,
                'array':
                    [0x011000DA, 0x4FFF0000, 0x26FFA9EB, 0x002D0067],
                'string':
                    '000000010001000000000000110110100100111111111111000000000000000000100110111111111010100111101'
                    '01100000000001011010000000001100111',
                'string_spaced':
                    '00000001 00010000 00000000 11011010 01001111 11111111 00000000 00000000 00100110 11111111 '
                    '10101001 11101011 00000000 00101101 00000000 01100111',
                'intervals':
                    {
                        (0, 0):
                            '',
                        (1, 126):
                            '0000001 00010000 00000000 11011010 01001111 11111111 00000000 00000000 00100110 11111111 '
                            '10101001 11101011 00000000 00101101 00000000 011001',
                        (1, None):
                            '0000001 00010000 00000000 11011010 01001111 11111111 00000000 00000000 00100110 11111111 '
                            '10101001 11101011 00000000 00101101 00000000 01100111',
                        (None, 16):
                            '00000001 00010000',
                        (24, 86):
                            '11011010 01001111 11111111 00000000 00000000 00100110 11111111 101010',
                        (13, 77):
                            '000 00000000 11011010 01001111 11111111 00000000 00000000 00100110 11111',
                        (-96, -23):
                            '01001111 11111111 00000000 00000000 00100110 11111111 10101001 11101011 00000000 0',
                        (-128, -1):
                            '00000001 00010000 00000000 11011010 01001111 11111111 00000000 00000000 00100110 11111111 '
                            '10101001 11101011 00000000 00101101 00000000 0110011',
                        (0, 127):
                            '00000001 00010000 00000000 11011010 01001111 11111111 00000000 00000000 00100110 11111111 '
                            '10101001 11101011 00000000 00101101 00000000 0110011'
                    },
                'reversed_intervals':
                    [(50, 20), (127, 43), (34, -120), (-20, 63), (-26, -83), (54, 12), (-18, -19), (2, 1)],
                'chunk_size':
                    ByteChunkSize.BIT32,
            },
            {
                'id':
                    2,
                'array':
                    [0x011000DA4FFF0000, 0x26FFA9EBF0F6AEB8, 0x7DC2059ABE29B290, 0x002D0067EF2051ED],
                'string':
                    '00000001000100000000000011011010010011111111111100000000000000000010011011111111101010011110101'
                    '11111000011110110101011101011100001111101110000100000010110011010101111100010100110110010100100'
                    '000000000000101101000000000110011111101111001000000101000111101101',
                'string_spaced':
                    '00000001 00010000 00000000 11011010 01001111 11111111 00000000 00000000 00100110 11111111 '
                    '10101001 11101011 11110000 11110110 10101110 10111000 01111101 11000010 00000101 10011010 '
                    '10111110 00101001 10110010 10010000 00000000 00101101 00000000 01100111 11101111 00100000 '
                    '01010001 11101101',
                'intervals':
                    {
                        (0, 0):
                            '',
                        (1, 254):
                            '0000001 00010000 00000000 11011010 01001111 11111111 00000000 00000000 00100110 11111111 '
                            '10101001 11101011 11110000 11110110 10101110 10111000 01111101 11000010 00000101 10011010 '
                            '10111110 00101001 10110010 10010000 00000000 00101101 00000000 01100111 11101111 00100000 '
                            '01010001 111011',
                        (1, None):
                            '0000001 00010000 00000000 11011010 01001111 11111111 00000000 00000000 00100110 11111111 '
                            '10101001 11101011 11110000 11110110 10101110 10111000 01111101 11000010 00000101 10011010 '
                            '10111110 00101001 10110010 10010000 00000000 00101101 00000000 01100111 11101111 00100000 '
                            '01010001 11101101',
                        (None, 16):
                            '00000001 00010000',
                        (24, 234):
                            '11011010 01001111 11111111 00000000 00000000 00100110 11111111 10101001 11101011 11110000 '
                            '11110110 10101110 10111000 01111101 11000010 00000101 10011010 10111110 00101001 10110010 '
                            '10010000 00000000 00101101 00000000 01100111 11101111 00',
                        (13, 177):
                            '000 00000000 11011010 01001111 11111111 00000000 00000000 00100110 11111111 10101001 '
                            '11101011 11110000 11110110 10101110 10111000 01111101 11000010 00000101 10011010 10111110 '
                            '00101001 1',
                        (-30, -12):
                            '101111 00100000 0101',
                        (-256, -1):
                            '00000001 00010000 00000000 11011010 01001111 11111111 00000000 00000000 00100110 11111111 '
                            '10101001 11101011 11110000 11110110 10101110 10111000 01111101 11000010 00000101 10011010 '
                            '10111110 00101001 10110010 10010000 00000000 00101101 00000000 01100111 11101111 00100000 '
                            '01010001 1110110',
                        (0, 255):
                            '00000001 00010000 00000000 11011010 01001111 11111111 00000000 00000000 00100110 11111111 '
                            '10101001 11101011 11110000 11110110 10101110 10111000 01111101 11000010 00000101 10011010 '
                            '10111110 00101001 10110010 10010000 00000000 00101101 00000000 01100111 11101111 00100000 '
                            '01010001 1110110',
                    },
                'reversed_intervals':
                    [(170, 30), (199, 43), (34, -240), (-20, 174), (-63, -128), (154, 26), (-18, -19), (2, 1)],
                'chunk_size':
                    ByteChunkSize.BIT64,
            },
        ]

    @property
    def array_to_bit_string__empty_array__returns_empty_string_data(self):
        """
        Gets the parameter data for the specified test.
        :return: [(with_space, Byte Chunk Size), ...]
        """
        parameters = list(itertools.product([True, False], list(ByteChunkSize)))
        return parameters

    @property
    def array_to_bit_string__without_space__returns_bit_string_without_spaces_data(self):
        """
        Gets the parameter data for the specified test.
        :return: [(id, hexadecimal array, Bit String without Spaces, ByteChunkSize), ...]
        """
        parameters = [(entry['id'], entry['array'], entry['string'], entry['chunk_size']) for entry in self._data]
        return parameters

    @property
    def array_to_bit_string__with_space__returns_bit_string_with_spaces_data(self):
        """
        Gets the parameter data for the specified test.
        :return: [(id, hexadecimal array, Bit String with Spaces, ByteChunkSize), ...]
        """
        parameters = [(entry['id'], entry['array'], entry['string_spaced'], entry['chunk_size']) for entry in
                      self._data]
        return parameters

    @property
    def array_to_bit_string__without_space_and_indexed__returns_indexed_bit_string_without_spaces_data(self):
        """
        Gets the parameter data for the specified test.
        :return: [(id, hexadecimal array, Bit String without Spaces, One Index Boundary Tuple, ByteChunkSize), ...]
        """
        parameters = [
            itertools.product(
                [(entry['id'], entry['array'], entry['string'], entry['chunk_size'])],
                list(entry['intervals'].items()),
            ) for entry in self._data]
        parameters = [(a, b, c, d, e[0]) for product in parameters for ((a, b, c, d), e) in list(product)]
        parameters = [(a, b, c[e[0]: e[1]], e, d) for (a, b, c, d, e) in parameters]

        return parameters

    @property
    def array_to_bit_string__with_space_and_indexed__returns_indexed_bit_string_with_spaces_data(self):
        """
        Gets the parameter data for the specified test.
        :return: [(id, array, Bit String with Spaces, One Index Boundary Tuple, ByteChunkSize), ...]
        """
        parameters = [
            itertools.product(
                [(entry['id'], entry['array'], entry['chunk_size'])],
                list(entry['intervals'].items()),
            ) for entry in self._data]
        parameters = [(a, b, d[1], d[0], c) for product in parameters for ((a, b, c), d) in list(product)]

        return parameters

    @property
    def array_to_bit_string__start_index_out_of_bounds__raises_index_error_data(self):
        """
        Gets the parameter data for the specified test.
        :return: [(id, array, ByteChunkSize), ...]
        """
        parameters = [(entry['id'], entry['array'], entry['chunk_size']) for entry in self._data]

        return parameters

    @property
    def array_to_bit_string__end_index_out_of_bounds__raises_index_error_data(self):
        """
        Gets the parameter data for the specified test.
        :return: [(id, array, ByteChunkSize), ...]
        """
        parameters = [(entry['id'], entry['array'], entry['chunk_size']) for entry in self._data]

        return parameters

    @property
    def array_to_bit_string__start_index_greater_end_index__raises_value_error_data(self):
        """
        Gets the parameter data for the specified test.
        :return: [(id, array, One Index Boundary Tuple, ByteChunkSize), ...]
        """
        parameters = [
            itertools.product(
                [(entry['id'], entry['array'], entry['chunk_size'])],
                entry['reversed_intervals'],
            ) for entry in self._data]
        parameters = [(a, b, d, c) for product in parameters for ((a, b, c), d) in list(product)]

        return parameters


class BitArrayTestData:
    def __init__(self):
        self._byte_chunk_sizes = list(ByteChunkSize)
        """
        Contains all existing ByteChunkSize values in a list.
        """
        self._as_string_data = None
        """
        List of dicts with:
        
        - id: int
        - array_size: int
        - array: list[int]
        - string: str
        - string_spaced: str
        - intervals: [(int, int), ...]
        """
        self.as_formatted_string_data = None
        """
        List of dicts with:
        
        - id: int
        - array_size: int
        - mock_return: str
        - string_headed: str
        - string: str
        - intervals: {(int, int): str (formatted headed str), ...}
        - bytes_in_row: {int: str (formatted headed str), ...}
        """
        self._as_formatted_string_invalid_bytes_in_row = [0, -2, -32, -18]
        """
        Invalid bytes_in_row parameter values for as_formatted_string method.
        """

        self.__define_as_string_data()
        self.__define_as_formatted_string_data()

    def __define_as_string_data(self):
        self._as_string_data = [
            {
                'id':
                    0,
                'array_size':
                    200,
                'string':
                    '10000000101111001111010101000110101000000110110011001011100111101101100000110111111100010110010101'
                    '10001100010100011111100101101001011011111111111101010001101101100111010100110111111010111100000001'
                    '1001',
                'string_spaced':
                    '10000000 10111100 11110101 01000110 10100000 01101100 11001011 10011110 11011000 00110111 '
                    '11110001 01100101 01100011 00010100 01111110 01011010 01011011 11111111 11010100 01101101 '
                    '10011101 01001101 11111010 11110000 00011001',
                'intervals':
                    [(0, 0), (1, 195), (52, 86), (13, 123), (-12, -63), (-138, -1), (2, 53), (0, 199), (5, None)],
            },
            {
                'id':
                    1,
                'array_size':
                    395,
                'string':
                    '11010010101010010011100011010111000111001000000110010110110001011100000100001101100000010110101110'
                    '01101110011010101011101110000011010110010001001101110101110101010011001110101111110010101111101001'
                    '01101011110011000100011101010001010101001010010010111000101011011001001110110011111111000000101111'
                    '01001000100110001010010101100101011011111101111001110111111010101010101100111001000011001110000110'
                    '100',
                'string_spaced':
                    '11010010 10101001 00111000 11010111 00011100 10000001 10010110 11000101 11000001 00001101 '
                    '10000001 01101011 10011011 10011010 10101110 11100000 11010110 01000100 11011101 01110101 '
                    '01001100 11101011 11110010 10111110 10010110 10111100 11000100 01110101 00010101 01001010 '
                    '01001011 10001010 11011001 00111011 00111111 11000000 10111101 00100010 01100010 10010101 '
                    '10010101 10111111 01111001 11011111 10101010 10101100 11100100 00110011 10000110 100',
                'intervals':
                    [(0, 0), (1, 195), (141, -171), (95, 282), (73, 110), (-283, 275), (-177, 351), (345, 394),
                     (5, None)],
            },
            {
                'id':
                    2,
                'array_size':
                    781,
                'string':
                    '10111001000011110110010011010110000000000011101011011101010110010100110000110011011100001111101010'
                    '10001010001100010110100111101000110101110011110111011010010001101011110001000100001101111010001000'
                    '00110011011111010011001110010111101111100100010110100110110100101000010010101111011110000001111110'
                    '10110100010111111101101111101101111100111011100111100011111011100101011000100110011000010110011101'
                    '10001111011010000101000101000111110011001101110111010111011111110010001101101001100000001010111111'
                    '11011000101011011000101001000010011111000100111111010100100010111000010100001101110111111100111010'
                    '00111111001010111111111010011001100000110111100111100110001001001100010010000111111101011100011101'
                    '01100100101101100011001001111111010110111010010001101010001110011110110010110000010011011110110',
                'string_spaced':
                    '10111001 00001111 01100100 11010110 00000000 00111010 11011101 01011001 01001100 00110011 '
                    '01110000 11111010 10100010 10001100 01011010 01111010 00110101 11001111 01110110 10010001 '
                    '10101111 00010001 00001101 11101000 10000011 00110111 11010011 00111001 01111011 11100100 '
                    '01011010 01101101 00101000 01001010 11110111 10000001 11111010 11010001 01111111 01101111 '
                    '10110111 11001110 11100111 10001111 10111001 01011000 10011001 10000101 10011101 10001111 '
                    '01101000 01010001 01000111 11001100 11011101 11010111 01111111 00100011 01101001 10000000 '
                    '10101111 11110110 00101011 01100010 10010000 10011111 00010011 11110101 00100010 11100001 '
                    '01000011 01110111 11110011 10100011 11110010 10111111 11101001 10011000 00110111 10011110 '
                    '01100010 01001100 01001000 01111111 01011100 01110101 10010010 11011000 11001001 11111101 '
                    '01101110 10010001 10101000 11100111 10110010 11000001 00110111 10110',
                'intervals':
                    [(0, 0), (1, 195), (-448, 567), (-614, -361), (30, 779), (-371, 659), (-492, -144), (-384, 780),
                     (5, None)],
            },
        ]

    def __define_as_formatted_string_data(self):
        self.as_formatted_string_data = [
            {
                'id':
                    0,
                'array_size':
                    200,
                'mock_return':
                    '1000101100111110011011011011101100010011101101111011110110010101001111111111000101100010101000000'
                    '0101111000101101001100001010001000001110110110000110110100011100111101111111111000100110100101110'
                    '110110',
                'string_headed':
                    '0        1        2        3        4        5        6        7        8        9       \n'
                    '10001011 00111110 01101101 10111011 00010011 10110111 10111101 10010101 00111111 11110001\n'
                    '10       11       12       13       14       15       16       17       18       19      \n'
                    '01100010 10100000 00101111 00010110 10011000 01010001 00000111 01101100 00110110 10001110\n'
                    '20       21       22       23       24      \n'
                    '01111011 11111111 00010011 01001011 10110110',
                'string':
                    '10001011 00111110 01101101 10111011 00010011 10110111 10111101 10010101 00111111 11110001\n'
                    '01100010 10100000 00101111 00010110 10011000 01010001 00000111 01101100 00110110 10001110\n'
                    '01111011 11111111 00010011 01001011 10110110',
                'intervals':
                    {
                        (0, 0):
                            '',
                        (12, 125):
                            '1        2        3        4        5        6        7        8        9        '
                            '10      \n'
                            '    1110 01101101 10111011 00010011 10110111 10111101 10010101 00111111 11110001 '
                            '01100010\n'
                            '11       12       13       14       15      \n'
                            '10100000 00101111 00010110 10011000 01010',
                        (-83, 199):
                            '14       15       16       17       18       19       20       21       22       '
                            '23      \n'
                            '     000 01010001 00000111 01101100 00110110 10001110 01111011 11111111 00010011 '
                            '01001011\n'
                            '24      \n'
                            '1011011',
                        (170, -12):
                            '21       22       23      \n'
                            '  111111 00010011 0100',
                        (-93, -92):
                            '13      \n'
                            '   1',
                    },
                'bytes_in_row':
                    {
                        2:
                            '0        1       \n'
                            '10001011 00111110\n'
                            '2        3       \n'
                            '01101101 10111011\n'
                            '4        5       \n'
                            '00010011 10110111\n'
                            '6        7       \n'
                            '10111101 10010101\n'
                            '8        9       \n'
                            '00111111 11110001\n'
                            '10       11      \n'
                            '01100010 10100000\n'
                            '12       13      \n'
                            '00101111 00010110\n'
                            '14       15      \n'
                            '10011000 01010001\n'
                            '16       17      \n'
                            '00000111 01101100\n'
                            '18       19      \n'
                            '00110110 10001110\n'
                            '20       21      \n'
                            '01111011 11111111\n'
                            '22       23      \n'
                            '00010011 01001011\n'
                            '24      \n'
                            '10110110',
                        8:
                            '0        1        2        3        4        5        6        7       \n'
                            '10001011 00111110 01101101 10111011 00010011 10110111 10111101 10010101\n'
                            '8        9        10       11       12       13       14       15      \n'
                            '00111111 11110001 01100010 10100000 00101111 00010110 10011000 01010001\n'
                            '16       17       18       19       20       21       22       23      \n'
                            '00000111 01101100 00110110 10001110 01111011 11111111 00010011 01001011\n'
                            '24      \n'
                            '10110110',
                        15:
                            '0        1        2        3        4        5        6        7        8        '
                            '9        10       11       12       13       14      \n'
                            '10001011 00111110 01101101 10111011 00010011 10110111 10111101 10010101 00111111 '
                            '11110001 01100010 10100000 00101111 00010110 10011000\n'
                            '15       16       17       18       19       20       21       22       23       '
                            '24      \n'
                            '01010001 00000111 01101100 00110110 10001110 01111011 11111111 00010011 01001011 '
                            '10110110',
                        20:
                            '0        1        2        3        4        5        6        7        8        '
                            '9        10       11       12       13       14       15       16       17       '
                            '18       19      \n'
                            '10001011 00111110 01101101 10111011 00010011 10110111 10111101 10010101 00111111 '
                            '11110001 01100010 10100000 00101111 00010110 10011000 01010001 00000111 01101100 '
                            '00110110 10001110\n'
                            '20       21       22       23       24      \n'
                            '01111011 11111111 00010011 01001011 10110110',
                    },
            },
            {
                'id':
                    1,
                'array_size':
                    395,
                'mock_return':
                    '0100000000011110111000011011110011011000101000101000110101110000101111010110111011011100000001001'
                    '1000010111001011110010010101111000100110111110001111001010111100000010101101001100101110110010100'
                    '0010001100110100100101101011100000000001000011110100011111000100000101010111001000010110001000100'
                    '1010010111100111100011001000000011101010111111001111101110000100100000001101000000000010101110010'
                    '1010100',
                'string_headed':
                    '0        1        2        3        4        5        6        7        8        9       \n'
                    '01000000 00011110 11100001 10111100 11011000 10100010 10001101 01110000 10111101 01101110\n'
                    '10       11       12       13       14       15       16       17       18       19      \n'
                    '11011100 00000100 11000010 11100101 11100100 10101111 00010011 01111100 01111001 01011110\n'
                    '20       21       22       23       24       25       26       27       28       29      \n'
                    '00000101 01101001 10010111 01100101 00001000 11001101 00100101 10101110 00000000 01000011\n'
                    '30       31       32       33       34       35       36       37       38       39      \n'
                    '11010001 11110001 00000101 01011100 10000101 10001000 10010100 10111100 11110001 10010000\n'
                    '40       41       42       43       44       45       46       47       48       49      \n'
                    '00011101 01011111 10011111 01110000 10010000 00011010 00000000 01010111 00101010 100',
                'string':
                    '01000000 00011110 11100001 10111100 11011000 10100010 10001101 01110000 10111101 01101110\n'
                    '11011100 00000100 11000010 11100101 11100100 10101111 00010011 01111100 01111001 01011110\n'
                    '00000101 01101001 10010111 01100101 00001000 11001101 00100101 10101110 00000000 01000011\n'
                    '11010001 11110001 00000101 01011100 10000101 10001000 10010100 10111100 11110001 10010000\n'
                    '00011101 01011111 10011111 01110000 10010000 00011010 00000000 01010111 00101010 100',
                'intervals':
                    {
                        (0, 0):
                            '',
                        (121, 181):
                            '15       16       17       18       19       20       21       22      \n'
                            ' 0101111 00010011 01111100 01111001 01011110 00000101 01101001 10010',
                        (-390, 171):
                            '0        1        2        3        4        5        6        7        8        '
                            '9       \n'
                            '     000 00011110 11100001 10111100 11011000 10100010 10001101 01110000 10111101 '
                            '01101110\n'
                            '10       11       12       13       14       15       16       17       18       '
                            '19      \n'
                            '11011100 00000100 11000010 11100101 11100100 10101111 00010011 01111100 01111001 '
                            '01011110\n'
                            '20       21      \n'
                            '00000101 011',
                        (20, -350):
                            '2        3        4        5       \n'
                            '    0001 10111100 11011000 10100',
                        (-211, -5):
                            '23       24       25       26       27       28       29       30       31       '
                            '32      \n'
                            '01100101 00001000 11001101 00100101 10101110 00000000 01000011 11010001 11110001 '
                            '00000101\n'
                            '33       34       35       36       37       38       39       40       41       '
                            '42      \n'
                            '01011100 10000101 10001000 10010100 10111100 11110001 10010000 00011101 01011111 '
                            '10011111\n'
                            '43       44       45       46       47       48      \n'
                            '01110000 10010000 00011010 00000000 01010111 001010',
                    },
                'bytes_in_row':
                    {
                        4:
                            '0        1        2        3       \n'
                            '01000000 00011110 11100001 10111100\n'
                            '4        5        6        7       \n'
                            '11011000 10100010 10001101 01110000\n'
                            '8        9        10       11      \n'
                            '10111101 01101110 11011100 00000100\n'
                            '12       13       14       15      \n'
                            '11000010 11100101 11100100 10101111\n'
                            '16       17       18       19      \n'
                            '00010011 01111100 01111001 01011110\n'
                            '20       21       22       23      \n'
                            '00000101 01101001 10010111 01100101\n'
                            '24       25       26       27      \n'
                            '00001000 11001101 00100101 10101110\n'
                            '28       29       30       31      \n'
                            '00000000 01000011 11010001 11110001\n'
                            '32       33       34       35      \n'
                            '00000101 01011100 10000101 10001000\n'
                            '36       37       38       39      \n'
                            '10010100 10111100 11110001 10010000\n'
                            '40       41       42       43      \n'
                            '00011101 01011111 10011111 01110000\n'
                            '44       45       46       47      \n'
                            '10010000 00011010 00000000 01010111\n'
                            '48       49      \n'
                            '00101010 100',
                        8:
                            '0        1        2        3        4        5        6        7       \n'
                            '01000000 00011110 11100001 10111100 11011000 10100010 10001101 01110000\n'
                            '8        9        10       11       12       13       14       15      \n'
                            '10111101 01101110 11011100 00000100 11000010 11100101 11100100 10101111\n'
                            '16       17       18       19       20       21       22       23      \n'
                            '00010011 01111100 01111001 01011110 00000101 01101001 10010111 01100101\n'
                            '24       25       26       27       28       29       30       31      \n'
                            '00001000 11001101 00100101 10101110 00000000 01000011 11010001 11110001\n'
                            '32       33       34       35       36       37       38       39      \n'
                            '00000101 01011100 10000101 10001000 10010100 10111100 11110001 10010000\n'
                            '40       41       42       43       44       45       46       47      \n'
                            '00011101 01011111 10011111 01110000 10010000 00011010 00000000 01010111\n'
                            '48       49      \n'
                            '00101010 100',
                        15:
                            '0        1        2        3        4        5        6        7        8        '
                            '9        10       11       12       13       14      \n'
                            '01000000 00011110 11100001 10111100 11011000 10100010 10001101 01110000 10111101 '
                            '01101110 11011100 00000100 11000010 11100101 11100100\n'
                            '15       16       17       18       19       20       21       22       23       '
                            '24       25       26       27       28       29      \n'
                            '10101111 00010011 01111100 01111001 01011110 00000101 01101001 10010111 01100101 '
                            '00001000 11001101 00100101 10101110 00000000 01000011\n'
                            '30       31       32       33       34       35       36       37       38       '
                            '39       40       41       42       43       44      \n'
                            '11010001 11110001 00000101 01011100 10000101 10001000 10010100 10111100 11110001 '
                            '10010000 00011101 01011111 10011111 01110000 10010000\n'
                            '45       46       47       48       49      \n'
                            '00011010 00000000 01010111 00101010 100',
                        20:
                            '0        1        2        3        4        5        6        7        8        '
                            '9        '
                            '10       11       12       13       14       15       16       17       18       '
                            '19      \n'
                            '01000000 00011110 11100001 10111100 11011000 10100010 10001101 01110000 10111101 '
                            '01101110 '
                            '11011100 00000100 11000010 11100101 11100100 10101111 00010011 01111100 01111001 '
                            '01011110\n'
                            '20       21       22       23       24       25       26       27       28       '
                            '29       '
                            '30       31       32       33       34       35       36       37       38       '
                            '39      \n'
                            '00000101 01101001 10010111 01100101 00001000 11001101 00100101 10101110 00000000 '
                            '01000011 '
                            '11010001 11110001 00000101 01011100 10000101 10001000 10010100 10111100 11110001 '
                            '10010000\n'
                            '40       41       42       43       44       45       46       47       48       '
                            '49      \n'
                            '00011101 01011111 10011111 01110000 10010000 00011010 00000000 01010111 00101010 '
                            '100',
                    },
            },
            {
                'id':
                    2,
                'array_size':
                    781,
                'mock_return':
                    '0101100111011100001110111000010000000011100101100011010111010100011111110111110010000100111001000'
                    '0001000111011010100101111101011010000110010100111000111000000111101100100001001101101010000100001'
                    '0010000101100010100100011100010011010111100111100101100010001010001100001100100100000011011101100'
                    '1101100110100110000000100000101000000101001100001001100001011000010001001001001010111000011101100'
                    '0100110111000101111100111111110000010100011110110100010110100110001001101010111110111001001011010'
                    '1010010110010001000001100101101100010011101010011010000111011011100011011011011010000001110000101'
                    '0000001000111101001001101011101111100000101101011110000010110100111001001100011101010001100111111'
                    '1011010100010111010000101011001011111000000011001110010111110011110000101100001110001100011010100'
                    '01101',
                'string_headed':
                    '0        1        2        3        4        5        6        7        8        9       \n'
                    '01011001 11011100 00111011 10000100 00000011 10010110 00110101 11010100 01111111 01111100\n'
                    '10       11       12       13       14       15       16       17       18       19      \n'
                    '10000100 11100100 00001000 11101101 01001011 11101011 01000011 00101001 11000111 00000011\n'
                    '20       21       22       23       24       25       26       27       28       29      \n'
                    '11011001 00001001 10110101 00001000 01001000 01011000 10100100 01110001 00110101 11100111\n'
                    '30       31       32       33       34       35       36       37       38       39      \n'
                    '10010110 00100010 10001100 00110010 01000000 11011101 10011011 00110100 11000000 01000001\n'
                    '40       41       42       43       44       45       46       47       48       49      \n'
                    '01000000 10100110 00010011 00001011 00001000 10010010 01010111 00001110 11000100 11011100\n'
                    '50       51       52       53       54       55       56       57       58       59      \n'
                    '01011111 00111111 11000001 01000111 10110100 01011010 01100010 01101010 11111011 10010010\n'
                    '60       61       62       63       64       65       66       67       68       69      \n'
                    '11010101 00101100 10001000 00110010 11011000 10011101 01001101 00001110 11011100 01101101\n'
                    '70       71       72       73       74       75       76       77       78       79      \n'
                    '10110100 00001110 00010100 00001000 11110100 10011010 11101111 10000010 11010111 10000010\n'
                    '80       81       82       83       84       85       86       87       88       89      \n'
                    '11010011 10010011 00011101 01000110 01111111 01101010 00101110 10000101 01100101 11110000\n'
                    '90       91       92       93       94       95       96       97      \n'
                    '00011001 11001011 11100111 10000101 10000111 00011000 11010100 01101',
                'string':
                    '01011001 11011100 00111011 10000100 00000011 10010110 00110101 11010100 01111111 01111100\n'
                    '10000100 11100100 00001000 11101101 01001011 11101011 01000011 00101001 11000111 00000011\n'
                    '11011001 00001001 10110101 00001000 01001000 01011000 10100100 01110001 00110101 11100111\n'
                    '10010110 00100010 10001100 00110010 01000000 11011101 10011011 00110100 11000000 01000001\n'
                    '01000000 10100110 00010011 00001011 00001000 10010010 01010111 00001110 11000100 11011100\n'
                    '01011111 00111111 11000001 01000111 10110100 01011010 01100010 01101010 11111011 10010010\n'
                    '11010101 00101100 10001000 00110010 11011000 10011101 01001101 00001110 11011100 01101101\n'
                    '10110100 00001110 00010100 00001000 11110100 10011010 11101111 10000010 11010111 10000010\n'
                    '11010011 10010011 00011101 01000110 01111111 01101010 00101110 10000101 01100101 11110000\n'
                    '00011001 11001011 11100111 10000101 10000111 00011000 11010100 01101',
                'intervals':
                    {
                        (0, 0):
                            '',
                        (153, 177):
                            '19       20       21       22      \n'
                            ' 0000011 11011001 00001001 1',
                        (-82, 715):
                            '87       88       89      \n'
                            '   00101 01100101 111',
                        (113, -382):
                            '14       15       16       17       18       19       20       21       22       '
                            '23      \n'
                            ' 1001011 11101011 01000011 00101001 11000111 00000011 11011001 00001001 10110101 '
                            '00001000\n'
                            '24       25       26       27       28       29       30       31       32       '
                            '33      \n'
                            '01001000 01011000 10100100 01110001 00110101 11100111 10010110 00100010 10001100 '
                            '00110010\n'
                            '34       35       36       37       38       39       40       41       42       '
                            '43      \n'
                            '01000000 11011101 10011011 00110100 11000000 01000001 01000000 10100110 00010011 '
                            '00001011\n'
                            '44       45       46       47       48       49      \n'
                            '00001000 10010010 01010111 00001110 11000100 1101110',
                        (-504, -407):
                            '34       35       36       37       38       39       40       41       42       '
                            '43      \n'
                            '     000 11011101 10011011 00110100 11000000 01000001 01000000 10100110 00010011 '
                            '00001011\n'
                            '44       45       46      \n'
                            '00001000 10010010 010101',
                    },
                'bytes_in_row':
                    {
                        4:
                            '0        1        2        3       \n'
                            '01011001 11011100 00111011 10000100\n'
                            '4        5        6        7       \n'
                            '00000011 10010110 00110101 11010100\n'
                            '8        9        10       11      \n'
                            '01111111 01111100 10000100 11100100\n'
                            '12       13       14       15      \n'
                            '00001000 11101101 01001011 11101011\n'
                            '16       17       18       19      \n'
                            '01000011 00101001 11000111 00000011\n'
                            '20       21       22       23      \n'
                            '11011001 00001001 10110101 00001000\n'
                            '24       25       26       27      \n'
                            '01001000 01011000 10100100 01110001\n'
                            '28       29       30       31      \n'
                            '00110101 11100111 10010110 00100010\n'
                            '32       33       34       35      \n'
                            '10001100 00110010 01000000 11011101\n'
                            '36       37       38       39      \n'
                            '10011011 00110100 11000000 01000001\n'
                            '40       41       42       43      \n'
                            '01000000 10100110 00010011 00001011\n'
                            '44       45       46       47      \n'
                            '00001000 10010010 01010111 00001110\n'
                            '48       49       50       51      \n'
                            '11000100 11011100 01011111 00111111\n'
                            '52       53       54       55      \n'
                            '11000001 01000111 10110100 01011010\n'
                            '56       57       58       59      \n'
                            '01100010 01101010 11111011 10010010\n'
                            '60       61       62       63      \n'
                            '11010101 00101100 10001000 00110010\n'
                            '64       65       66       67      \n'
                            '11011000 10011101 01001101 00001110\n'
                            '68       69       70       71      \n'
                            '11011100 01101101 10110100 00001110\n'
                            '72       73       74       75      \n'
                            '00010100 00001000 11110100 10011010\n'
                            '76       77       78       79      \n'
                            '11101111 10000010 11010111 10000010\n'
                            '80       81       82       83      \n'
                            '11010011 10010011 00011101 01000110\n'
                            '84       85       86       87      \n'
                            '01111111 01101010 00101110 10000101\n'
                            '88       89       90       91      \n'
                            '01100101 11110000 00011001 11001011\n'
                            '92       93       94       95      \n'
                            '11100111 10000101 10000111 00011000\n'
                            '96       97      \n'
                            '11010100 01101',
                        8:
                            '0        1        2        3        4        5        6        7       \n'
                            '01011001 11011100 00111011 10000100 00000011 10010110 00110101 11010100\n'
                            '8        9        10       11       12       13       14       15      \n'
                            '01111111 01111100 10000100 11100100 00001000 11101101 01001011 11101011\n'
                            '16       17       18       19       20       21       22       23      \n'
                            '01000011 00101001 11000111 00000011 11011001 00001001 10110101 00001000\n'
                            '24       25       26       27       28       29       30       31      \n'
                            '01001000 01011000 10100100 01110001 00110101 11100111 10010110 00100010\n'
                            '32       33       34       35       36       37       38       39      \n'
                            '10001100 00110010 01000000 11011101 10011011 00110100 11000000 01000001\n'
                            '40       41       42       43       44       45       46       47      \n'
                            '01000000 10100110 00010011 00001011 00001000 10010010 01010111 00001110\n'
                            '48       49       50       51       52       53       54       55      \n'
                            '11000100 11011100 01011111 00111111 11000001 01000111 10110100 01011010\n'
                            '56       57       58       59       60       61       62       63      \n'
                            '01100010 01101010 11111011 10010010 11010101 00101100 10001000 00110010\n'
                            '64       65       66       67       68       69       70       71      \n'
                            '11011000 10011101 01001101 00001110 11011100 01101101 10110100 00001110\n'
                            '72       73       74       75       76       77       78       79      \n'
                            '00010100 00001000 11110100 10011010 11101111 10000010 11010111 10000010\n'
                            '80       81       82       83       84       85       86       87      \n'
                            '11010011 10010011 00011101 01000110 01111111 01101010 00101110 10000101\n'
                            '88       89       90       91       92       93       94       95      \n'
                            '01100101 11110000 00011001 11001011 11100111 10000101 10000111 00011000\n'
                            '96       97      \n'
                            '11010100 01101',
                        15:
                            '0        1        2        3        4        5        6        7        8        '
                            '9        10       11       12       13       14      \n'
                            '01011001 11011100 00111011 10000100 00000011 10010110 00110101 11010100 01111111 '
                            '01111100 10000100 11100100 00001000 11101101 01001011\n'
                            '15       16       17       18       19       20       21       22       23       '
                            '24       25       26       27       28       29      \n'
                            '11101011 01000011 00101001 11000111 00000011 11011001 00001001 10110101 00001000 '
                            '01001000 01011000 10100100 01110001 00110101 11100111\n'
                            '30       31       32       33       34       35       36       37       38       '
                            '39       40       41       42       43       44      \n'
                            '10010110 00100010 10001100 00110010 01000000 11011101 10011011 00110100 11000000 '
                            '01000001 01000000 10100110 00010011 00001011 00001000\n'
                            '45       46       47       48       49       50       51       52       53       '
                            '54       55       56       57       58       59      \n'
                            '10010010 01010111 00001110 11000100 11011100 01011111 00111111 11000001 01000111 '
                            '10110100 01011010 01100010 01101010 11111011 10010010\n'
                            '60       61       62       63       64       65       66       67       68       '
                            '69       70       71       72       73       74      \n'
                            '11010101 00101100 10001000 00110010 11011000 10011101 01001101 00001110 11011100 '
                            '01101101 10110100 00001110 00010100 00001000 11110100\n'
                            '75       76       77       78       79       80       81       82       83       '
                            '84       85       86       87       88       89      \n'
                            '10011010 11101111 10000010 11010111 10000010 11010011 10010011 00011101 01000110 '
                            '01111111 01101010 00101110 10000101 01100101 11110000\n'
                            '90       91       92       93       94       95       96       97      \n'
                            '00011001 11001011 11100111 10000101 10000111 00011000 11010100 01101',
                        20:
                            '0        1        2        3        4        5        6        7        8        '
                            '9        '
                            '10       11       12       13       14       15       16       17       18       '
                            '19      \n'
                            '01011001 11011100 00111011 10000100 00000011 10010110 00110101 11010100 01111111 '
                            '01111100 '
                            '10000100 11100100 00001000 11101101 01001011 11101011 01000011 00101001 11000111 '
                            '00000011\n'
                            '20       21       22       23       24       25       26       27       28       '
                            '29       '
                            '30       31       32       33       34       35       36       37       38       '
                            '39      \n'
                            '11011001 00001001 10110101 00001000 01001000 01011000 10100100 01110001 00110101 '
                            '11100111 '
                            '10010110 00100010 10001100 00110010 01000000 11011101 10011011 00110100 11000000 '
                            '01000001\n'
                            '40       41       42       43       44       45       46       47       48       '
                            '49       '
                            '50       51       52       53       54       55       56       57       58       '
                            '59      \n'
                            '01000000 10100110 00010011 00001011 00001000 10010010 01010111 00001110 11000100 '
                            '11011100 '
                            '01011111 00111111 11000001 01000111 10110100 01011010 01100010 01101010 11111011 '
                            '10010010\n'
                            '60       61       62       63       64       65       66       67       68       '
                            '69       '
                            '70       71       72       73       74       75       76       77       78       '
                            '79      \n'
                            '11010101 00101100 10001000 00110010 11011000 10011101 01001101 00001110 11011100 '
                            '01101101 '
                            '10110100 00001110 00010100 00001000 11110100 10011010 11101111 10000010 11010111 '
                            '10000010\n'
                            '80       81       82       83       84       85       86       87       88       '
                            '89       '
                            '90       91       92       93       94       95       96       97      \n'
                            '11010011 10010011 00011101 01000110 01111111 01101010 00101110 10000101 01100101 '
                            '11110000 '
                            '00011001 11001011 11100111 10000101 10000111 00011000 11010100 01101',
                    },
            },
        ]

    @property
    def as_string__default_parameter__returns_string_data(self):
        """
        Gets the parameter data for the specified test.
        :return: [(id, array_size, expected string without spaces, ByteChunkSize), ...]
        """
        parameters = [(entry['id'], entry['array_size'], entry['string']) for entry in self._as_string_data]
        parameters = itertools.product(parameters, self._byte_chunk_sizes)
        parameters = [(a, b, c, d) for ((a, b, c), d) in list(parameters)]

        return parameters

    @property
    def as_string__spaced__returns_string_with_byte_chunks_data(self):
        """
        Gets the parameter data for the specified test.
        :return: [(id, array_length, expected string with spaces, ByteChunkSize), ...]
        """
        parameters = [(entry['id'], entry['array_size'], entry['string_spaced']) for entry in self._as_string_data]
        parameters = itertools.product(parameters, self._byte_chunk_sizes)
        parameters = [(a, b, c, d) for ((a, b, c), d) in list(parameters)]

        return parameters

    @property
    def as_string__with_indices__returns_indexed_string_data(self):
        """
        Gets the parameter data for the specified test.
        :return: [(id, array_size, expected string without spaces, One indices pair, ByteChunkSize), ...]
        """
        parameters = [
            itertools.product(
                [(entry['id'], entry['array_size'], entry['string'])],
                entry['intervals']
            ) for entry in self._as_string_data]
        parameters = [(a, b, c, d) for product in parameters for ((a, b, c), d) in list(product)]
        parameters = itertools.product(parameters, self._byte_chunk_sizes)
        parameters = [(a, b, c, d, e) for ((a, b, c, d), e) in list(parameters)]
        parameters = [(a, b, c[d[0]: d[1]], d, e) for (a, b, c, d, e) in parameters]

        return parameters

    @property
    def as_string__with_indices_and_spaced__returns_indexed_string_with_byte_chunks_data(self):
        """
        Gets the parameter data for the specified test.
        :return: [(id, array_size, expected string with spaces, One indices pair, ByteChunkSize), ...]
        """
        parameters = [
            itertools.product(
                [(entry['id'], entry['array_size'], entry['string_spaced'])],
                entry['intervals']
            ) for entry in self._as_string_data]
        parameters = [(a, b, c, d) for product in parameters for ((a, b, c), d) in list(product)]
        parameters = itertools.product(parameters, self._byte_chunk_sizes)
        parameters = [(a, b, c, d, e) for ((a, b, c, d), e) in list(parameters)]
        # Approximation of indices is enough
        parameters = [(a, b, c[d[0]: d[1]], d, e) for (a, b, c, d, e) in parameters]

        return parameters

    @property
    def as_formatted_string__default_parameters__returns_expected_formatted_string_data(self):
        """
        Gets the parameter data for the specified test.
        :return: [(id, array_size, array_to_bit_string return, expected string, ByteChunkSize), ...]
        """
        parameters = [(entry['id'], entry['array_size'], entry['mock_return'], entry['string_headed']) for entry in
                      self.as_formatted_string_data]
        parameters = itertools.product(parameters, self._byte_chunk_sizes)
        parameters = [(a, b, c, d, e) for ((a, b, c, d), e) in list(parameters)]

        return parameters

    @property
    def as_formatted_string__with_indices__returns_expected_formatted_string_data(self):
        """
        Gets the parameter data for the specified test.
        :return: [(id, array_size, array_to_bit_string return, indices, expected string, ByteChunkSize), ...]
        """
        parameters = [
            itertools.product(
                [(entry['id'], entry['array_size'], entry['mock_return'])],
                list(entry['intervals'].items())
            ) for entry in self.as_formatted_string_data]
        parameters = [(a, b, c, d[0], d[1]) for product in parameters for ((a, b, c), d) in list(product)]
        parameters = itertools.product(parameters, self._byte_chunk_sizes)
        parameters = [(a, b, c, d, e, f) for ((a, b, c, d, e), f) in list(parameters)]

        return parameters

    @property
    def as_formatted_string__changed_bytes_in_row__returns_expected_formatted_string_data(self):
        """
        Gets the parameter data for the specified test.
        :return: [(id, array_size, array_to_bit_string return, bytes_in_row, expected string, ByteChunkSize), ...]
        """
        parameters = [
            itertools.product(
                [(entry['id'], entry['array_size'], entry['mock_return'])],
                list(entry['bytes_in_row'].items()),
                self._byte_chunk_sizes
            )
            for entry in self.as_formatted_string_data
        ]
        parameters = [(a, b, c, d[0], d[1], e) for product in parameters for ((a, b, c), d, e) in list(product)]

        return parameters

    @property
    def as_formatted_string__invalid_bytes_in_row__raises_value_error_data(self):
        """
        Gets the parameter data for the specified test.
        :return: [(id, array_size, array_to_bit_string return, invalid bytes_in_row, ByteChunkSize), ...]
        """
        parameters = [(entry['id'], entry['array_size'], entry['mock_return']) for entry in
                      self.as_formatted_string_data]
        parameters = itertools.product(parameters, self._as_formatted_string_invalid_bytes_in_row,
                                       self._byte_chunk_sizes)
        parameters = [(a, b, c, d, e) for ((a, b, c), d, e) in list(parameters)]

        return parameters

    @property
    def as_formatted_string__without_header__returns_expected_formatted_string_data(self):
        """
        Gets the parameter data for the specified test.
        :return: [(id, array_size, array_to_bit_string return, expected string without header, ByteChunkSize), ...]
        """
        parameters = [(entry['id'], entry['array_size'], entry['mock_return'], entry['string']) for entry in
                      self.as_formatted_string_data]
        parameters = itertools.product(parameters, self._byte_chunk_sizes)
        parameters = [(a, b, c, d, e) for ((a, b, c, d), e) in list(parameters)]

        return parameters


if __name__ == '__main__':
    provider = BitArrayTestData()
    data = provider.as_formatted_string__changed_bytes_in_row__returns_expected_formatted_string_data
    print('-----------')
    print(len(data))
    for i in range(10):
        print(data[i])
